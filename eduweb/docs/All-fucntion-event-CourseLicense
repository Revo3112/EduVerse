import { prepareContractCall } from "thirdweb";
import { useSendTransaction } from "thirdweb/react";
import { useReadContract } from "thirdweb/react";
import { prepareEvent } from "thirdweb";
import { useContractEvents } from "thirdweb/react";

export function MintLicense() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function mintLicense(uint256 courseId, uint256 durationMonths) payable",
      params: [courseId, durationMonths],
      value: priceInWei,
    });
    sendTransaction(transaction);
  };
}

export function RenewLicense() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function renewLicense(uint256 courseId, uint256 durationMonths) payable",
      params: [courseId, durationMonths],
      value: priceInWei,
    });
    sendTransaction(transaction);
  };
}

export function CheckAndMarkExpired() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function checkAndMarkExpired(address student, uint256 courseId)",
      params: [student, courseId],
    });
    sendTransaction(transaction);
  };
}

export function EmergencyDeactivateLicense() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function emergencyDeactivateLicense(address student, uint256 courseId)",
      params: [student, courseId],
    });
    sendTransaction(transaction);
  };
}

export function SetURI() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function setURI(string newBaseURI)",
      params: [newBaseURI],
    });
    sendTransaction(transaction);
  };
}

export function SetCourseMetadataURI() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function setCourseMetadataURI(uint256 courseId, string metadataURI)",
      params: [courseId, metadataURI],
    });
    sendTransaction(transaction);
  };
}

export function SetPlatformFeePercentage() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function setPlatformFeePercentage(uint256 _feePercentage)",
      params: [_feePercentage],
    });
    sendTransaction(transaction);
  };
}

export function SetPlatformWallet() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function setPlatformWallet(address _platformWallet)",
      params: [_platformWallet],
    });
    sendTransaction(transaction);
  };
}

export function SetApprovalForAll() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function setApprovalForAll(address operator, bool approved)",
      params: [operator, approved],
    });
    sendTransaction(transaction);
  };
}

export function SafeTransferFrom() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function safeTransferFrom(address from, address to, uint256 id, uint256 value, bytes data)",
      params: [from, to, id, value, data],
    });
    sendTransaction(transaction);
  };
}

export function SafeBatchTransferFrom() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function safeBatchTransferFrom(address from, address to, uint256[] ids, uint256[] values, bytes data)",
      params: [from, to, ids, values, data],
    });
    sendTransaction(transaction);
  };
}

export function TransferOwnership() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function transferOwnership(address newOwner)",
      params: [newOwner],
    });
    sendTransaction(transaction);
  };
}

export function RenounceOwnership() {
  const { mutate: sendTransaction } = useSendTransaction();

  const onClick = () => {
    const transaction = prepareContractCall({
      contract,
      method: "function renounceOwnership()",
      params: [],
    });
    sendTransaction(transaction);
  };
}

export function HasValidLicense() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function hasValidLicense(address student, uint256 courseId) view returns (bool)",
    params: [student, courseId],
  });
}

export function GetLicense() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function getLicense(address student, uint256 courseId) view returns ((uint256 courseId, address student, uint256 durationLicense, uint256 expiryTimestamp, bool isActive))",
    params: [student, courseId],
  });
}

export function GetStudentCourses() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function getStudentCourses(address student, uint256[] courseIds) view returns (bool[])",
    params: [student, courseIds],
  });
}

export function GetTokenId() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function getTokenId(address student, uint256 courseId) view returns (uint256)",
    params: [student, courseId],
  });
}

export function URI() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function uri(uint256 tokenId) view returns (string)",
    params: [tokenId],
  });
}

export function CourseFactory() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function courseFactory() view returns (address)",
    params: [],
  });
}

export function PlatformWallet() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function platformWallet() view returns (address)",
    params: [],
  });
}

export function Licenses() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function licenses(uint256 courseId, address student) view returns (uint256 courseId, address student, uint256 durationLicense, uint256 expiryTimestamp, bool isActive)",
    params: [courseId, student],
  });
}

export function StudentTokenIds() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function studentTokenIds(address student, uint256 courseId) view returns (uint256)",
    params: [student, courseId],
  });
}

export function CourseMetadataURI() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function courseMetadataURI(uint256 courseId) view returns (string)",
    params: [courseId],
  });
}

export function TokenIdToCourseId() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function tokenIdToCourseId(uint256 tokenId) view returns (uint256)",
    params: [tokenId],
  });
}

export function TokenIdToStudent() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function tokenIdToStudent(uint256 tokenId) view returns (address)",
    params: [tokenId],
  });
}

export function NextTokenId() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function nextTokenId() view returns (uint256)",
    params: [],
  });
}

export function PlatformFeePercentage() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function platformFeePercentage() view returns (uint256)",
    params: [],
  });
}

export function Owner() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function owner() view returns (address)",
    params: [],
  });
}

export function SecondsPerMonth() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function SECONDS_PER_MONTH() view returns (uint256)",
    params: [],
  });
}

export function MaxDurationMonths() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function MAX_DURATION_MONTHS() view returns (uint256)",
    params: [],
  });
}

export function BalanceOf() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function balanceOf(address account, uint256 id) view returns (uint256)",
    params: [account, id],
  });
}

export function BalanceOfBatch() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function balanceOfBatch(address[] accounts, uint256[] ids) view returns (uint256[])",
    params: [accounts, ids],
  });
}

export function IsApprovedForAll() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function isApprovedForAll(address account, address operator) view returns (bool)",
    params: [account, operator],
  });
}

export function SupportsInterface() {
  const { data, isPending } = useReadContract({
    contract,
    method: "function supportsInterface(bytes4 interfaceId) view returns (bool)",
    params: [interfaceId],
  });
}

export function LicenseMintedEvent() {
  const licenseMintedEvent = prepareEvent({
    signature: "event LicenseMinted(uint256 indexed courseId, address indexed student, uint256 tokenId, uint256 durationMonths, uint256 expiryTimestamp, uint256 pricePaid)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [licenseMintedEvent],
  });
}

export function LicenseRenewedEvent() {
  const licenseRenewedEvent = prepareEvent({
    signature: "event LicenseRenewed(uint256 indexed courseId, address indexed student, uint256 tokenId, uint256 durationMonths, uint256 expiryTimestamp, uint256 pricePaid)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [licenseRenewedEvent],
  });
}

export function LicenseExpiredEvent() {
  const licenseExpiredEvent = prepareEvent({
    signature: "event LicenseExpired(uint256 indexed courseId, address indexed student, uint256 tokenId, uint256 expiredAt)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [licenseExpiredEvent],
  });
}

export function RevenueRecordedEvent() {
  const revenueRecordedEvent = prepareEvent({
    signature: "event RevenueRecorded(uint256 indexed courseId, address indexed creator, uint256 amount, uint256 timestamp, string revenueType)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [revenueRecordedEvent],
  });
}

export function TransferSingleEvent() {
  const transferSingleEvent = prepareEvent({
    signature: "event TransferSingle(address indexed operator, address indexed from, address indexed to, uint256 id, uint256 value)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [transferSingleEvent],
  });
}

export function TransferBatchEvent() {
  const transferBatchEvent = prepareEvent({
    signature: "event TransferBatch(address indexed operator, address indexed from, address indexed to, uint256[] ids, uint256[] values)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [transferBatchEvent],
  });
}

export function ApprovalForAllEvent() {
  const approvalForAllEvent = prepareEvent({
    signature: "event ApprovalForAll(address indexed account, address indexed operator, bool approved)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [approvalForAllEvent],
  });
}

export function URIEvent() {
  const uriEvent = prepareEvent({
    signature: "event URI(string value, uint256 indexed id)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [uriEvent],
  });
}

export function OwnershipTransferredEvent() {
  const ownershipTransferredEvent = prepareEvent({
    signature: "event OwnershipTransferred(address indexed previousOwner, address indexed newOwner)",
  });

  const { data: event } = useContractEvents({
    contract,
    events: [ownershipTransferredEvent],
  });
}
