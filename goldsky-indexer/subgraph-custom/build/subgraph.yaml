specVersion: 0.0.5
description: EduVerse LMS - Blockchain-based Learning Management System with course
  licenses and digital certificates
repository: https://github.com/eduverse/eduverse-subgraph
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: CourseFactory
    network: manta-pacific-sepolia
    source:
      address: "0xDb76942D6BeC2d59929Fd730c3Aad419E5Cc1598"
      abi: CourseFactory
      startBlock: 5418109
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: CourseFactory/CourseFactory.wasm
      entities:
        - Course
        - CourseSection
        - UserProfile
      abis:
        - name: CourseFactory
          file: CourseFactory/abis/coursefactory.json
      eventHandlers:
        - event: CourseCreated(indexed uint256,indexed address,string,string,uint8,uint8)
          handler: handleCourseCreated
        - event: CourseUpdated(indexed uint256,indexed address,uint256,uint256,bool)
          handler: handleCourseUpdated
        - event: CourseDeleted(indexed uint256,indexed address,uint256)
          handler: handleCourseDeleted
        - event: CourseUnpublished(indexed uint256,indexed address,uint256)
          handler: handleCourseUnpublished
        - event: CourseRepublished(indexed uint256,indexed address,uint256)
          handler: handleCourseRepublished
        - event: SectionAdded(indexed uint256,indexed uint256,string,string,uint256)
          handler: handleSectionAdded
        - event: SectionUpdated(indexed uint256,indexed uint256)
          handler: handleSectionUpdated
        - event: SectionDeleted(indexed uint256,indexed uint256)
          handler: handleSectionDeleted
        - event: SectionsSwapped(indexed uint256,uint256,uint256)
          handler: handleSectionsSwapped
        - event: BatchSectionsAdded(indexed uint256,uint256[])
          handler: handleBatchSectionsAdded
        - event: CourseRated(indexed uint256,indexed address,uint256,uint256)
          handler: handleCourseRated
        - event: RatingUpdated(indexed uint256,indexed address,uint256,uint256,uint256)
          handler: handleRatingUpdated
        - event: RatingDeleted(indexed uint256,indexed address,uint256)
          handler: handleRatingDeleted
        - event: RatingRemoved(indexed uint256,indexed address,indexed address)
          handler: handleRatingRemoved
        - event: RatingsPaused(indexed uint256,indexed address)
          handler: handleRatingsPaused
        - event: RatingsUnpaused(indexed uint256,indexed address)
          handler: handleRatingsUnpaused
        - event: UserBlacklisted(indexed address,indexed address)
          handler: handleUserBlacklisted
        - event: UserUnblacklisted(indexed address,indexed address)
          handler: handleUserUnblacklisted
        - event: CourseEmergencyDeactivated(indexed uint256,indexed address,uint256)
          handler: handleCourseEmergencyDeactivated
        - event: SectionMoved(indexed uint256,uint256,uint256,string)
          handler: handleSectionMoved
        - event: SectionsBatchReordered(indexed uint256,uint256[])
          handler: handleSectionsBatchReordered
  - kind: ethereum/contract
    name: CourseLicense
    network: manta-pacific-sepolia
    source:
      address: "0xC6566FC4c4d28Ad923ca5f311F4bf972a07A143a"
      abi: CourseLicense
      startBlock: 5418111
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: CourseLicense/CourseLicense.wasm
      entities:
        - Enrollment
        - Course
        - UserProfile
      abis:
        - name: CourseLicense
          file: CourseLicense/abis/courselicense.json
      eventHandlers:
        - event: LicenseMinted(indexed uint256,indexed address,uint256,uint256,uint256,uint256)
          handler: handleLicenseMinted
        - event: LicenseRenewed(indexed uint256,indexed address,uint256,uint256,uint256,uint256)
          handler: handleLicenseRenewed
        - event: LicenseExpired(indexed uint256,indexed address,uint256,uint256)
          handler: handleLicenseExpired
        - event: RevenueRecorded(indexed uint256,indexed address,uint256,uint256,string)
          handler: handleRevenueRecorded
        - event: BaseURIUpdated(string)
          handler: handleBaseURIUpdated
        - event: PlatformFeePercentageUpdated(uint256,uint256)
          handler: handlePlatformFeePercentageUpdated
        - event: PlatformWalletUpdated(indexed address,indexed address)
          handler: handlePlatformWalletUpdatedLicense
  - kind: ethereum/contract
    name: ProgressTracker
    network: manta-pacific-sepolia
    source:
      address: "0x6eA7FeEc013ce86B397edB36B382AB11b64a6778"
      abi: ProgressTracker
      startBlock: 5418113
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ProgressTracker/ProgressTracker.wasm
      entities:
        - Enrollment
        - Course
        - UserProfile
      abis:
        - name: ProgressTracker
          file: ProgressTracker/abis/progresstracker.json
        - name: CourseFactory
          file: ProgressTracker/abis/coursefactory.json
      eventHandlers:
        - event: SectionStarted(indexed address,indexed uint256,indexed uint256,uint256)
          handler: handleSectionStarted
        - event: SectionCompleted(indexed address,indexed uint256,indexed uint256,uint256)
          handler: handleSectionCompleted
        - event: CourseCompleted(indexed address,indexed uint256)
          handler: handleCourseCompleted
        - event: ProgressReset(indexed address,indexed uint256)
          handler: handleProgressReset
  - kind: ethereum/contract
    name: CertificateManager
    network: manta-pacific-sepolia
    source:
      address: "0x335BD88512Ce9Eff0009f05261ec47679427805d"
      abi: CertificateManager
      startBlock: 5418114
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: CertificateManager/CertificateManager.wasm
      entities:
        - Certificate
        - CertificateCourse
        - UserProfile
        - Course
        - Enrollment
        - ActivityEvent
        - MonthlyUserStats
        - PlatformStats
      abis:
        - name: CertificateManager
          file: CertificateManager/abis/certificatemanager.json
      eventHandlers:
        - event: CertificateMinted(indexed address,indexed uint256,string,string,bytes32,uint256)
          handler: handleCertificateMinted
        - event: CourseAddedToCertificate(indexed address,indexed uint256,indexed
            uint256,string,bytes32,uint256)
          handler: handleCourseAddedToCertificate
        - event: CertificateUpdated(indexed address,indexed uint256,string,bytes32)
          handler: handleCertificateUpdated
        - event: CertificateRevoked(indexed uint256,string)
          handler: handleCertificateRevoked
        - event: CertificatePaymentRecorded(indexed address,indexed address,indexed uint256,bytes32)
          handler: handleCertificatePaymentRecorded
        - event: BaseRouteUpdated(indexed uint256,string)
          handler: handleBaseRouteUpdated
        - event: DefaultBaseRouteUpdated(string)
          handler: handleDefaultBaseRouteUpdated
        - event: DefaultMetadataBaseURIUpdated(string)
          handler: handleDefaultMetadataBaseURIUpdated
        - event: PlatformNameUpdated(string)
          handler: handlePlatformNameUpdated
        - event: CourseAdditionFeeUpdated(uint256)
          handler: handleCourseAdditionFeeUpdated
        - event: CourseCertificatePriceSet(indexed uint256,uint256,indexed address)
          handler: handleCourseCertificatePriceSet
        - event: TokenURIUpdated(indexed uint256,string)
          handler: handleTokenURIUpdated
        - event: DefaultCertificateFeeUpdated(uint256)
          handler: handleDefaultCertificateFeeUpdated
        - event: PlatformWalletUpdated(indexed address,indexed address)
          handler: handlePlatformWalletUpdatedCertMgr
        - event: Paused(address)
          handler: handleCertificateManagerPaused
        - event: Unpaused(address)
          handler: handleCertificateManagerUnpaused
features:
  - fullTextSearch
  - grafting
  - nonFatalErrors
